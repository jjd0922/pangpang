<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title th:text="${product != null} ? '재고 상품 조회/수정':'재고 상품 등록'"></title>

    <th:block th:replace="common/css.html"></th:block>
    <style>
        .modal-dialog{
            max-width: 950px;
        }

        .table-hover {
            width: 100% !important;
        }
    </style>
</head>

<body>
<!-- 본문 영역 시작 -->
<div class="page-content">
    <div class="content-wrapper">
        <div class="content-inner">
            <div class="page-header page-header-dark">
                <div class="page-header-content container-fluid header-elements-md-inline px-3">
                    <div class="d-flex">
                        <div class="page-title">
                            <h4 class="font-weight-semibold" th:text="${product != null} ? '재고 상품 조회/수정':'재고 상품 등록'"></h4>
                            <!--  <div class="text-white-50 ml-3">설명글영역</div>
                          </div>-->
                        </div>
                    </div>
                </div>
            </div>
            <form id="goodsStockForm">
                <div class="card">
                    <div class="card-body popup-contents">
                        <fieldset class="mb-0">
                            <legend class="">1.상품정보<span class="small ml-2"></span></legend>
                                <div class="row">
                                    <!-- 입력필드 -->
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      상품코드 <a class="btn btn-sm badge-indigo" onclick="showProductModal()">검색</a>
                                                    </span>
                                                </span>
                                                <input type="text" name="P_IDX" class="form-control" th:value="${product?.pIdx}" readonly>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      상품명
                                                    </span>
                                                </span>
                                                <input type="text" name="P_NAME" class="form-control" th:value="${product?.pName}" readonly>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        상품 상태
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control "  name="P_STATE" th:value="${product?.pState}" readonly><!--auto-->
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      모델명
                                                    </span>
                                                </span>
                                                <input type="text" name="P_MODEL" class="form-control" th:value="${product?.pModel}" readonly>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        기준매입원가
                                                    </span>
                                                </span>
                                                <input type="text" name="P_COST" class="form-control text-right" th:value="${product}==null? 0:${#numbers.formatInteger(product?.pCost,0,'COMMA')}" readonly>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        기준판매가(상품)
                                                    </span>
                                                </span>
                                                <input type="text" name="P_SELL_PRICE" class="form-control text-right" th:value="${product}==null? 0:${#numbers.formatInteger(product?.pSellPrice,0,'COMMA')}" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        상품메모
                                                    </span>
                                                </span>
                                                <input type="text" name="P_MEMO" class="form-control" th:value="${product?.pMemo}" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset class="mb-0">
                                <legend class="">2.등록정보<span class="small ml-2"></span></legend>
                                <div class="row">
                                    <!-- 입력필드 -->
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      재고코드
                                                    </span>
                                                </span>
                                                <input type="text" name="GS_CODE" class="form-control" th:value="${goodsStock?.gsCode}" disabled>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      판매채널(품목운영구분)
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="GS_SALE" th:disabled="${goodsStock!=null}">
                                                    <option></option>
                                                    <option th:each="ps:${T(com.newper.constant.Channel).values()}" th:value="${ps}" th:text="${ps.option}" th:selected="${goodsStock?.gsSale eq ps}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        기준판매가(재고)
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control text-right"  name="GS_PRICE" onkeyup="numCommaKeyUp()" th:value="${goodsStock}==null? 0:${#numbers.formatInteger(goodsStock?.gsPrice,0,'COMMA')}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-8">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        재고상품명
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control "  name="GS_NAME" th:value="${goodsStock?.gsName}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        등급
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="GS_RANK" th:disabled="${goodsStock!=null}">
                                                    <option></option>
                                                    <option th:each="opt: ${T(com.newper.constant.GRank).values()}" th:text="${opt.getOption()}" th:value="${opt.name()}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        옵션1
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="OPTION1" th:disabled="${goodsStock!=null}">
                                                    <option></option>
                                                    <option th:each="option:${option1}" th:text="${option}" th:selected="${goodsStock?.gsOption.option[0] eq option}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        옵션2
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="OPTION2" th:disabled="${goodsStock!=null}">
                                                    <option></option>
                                                    <option th:each="option:${option2}" th:text="${option}" th:selected="${goodsStock?.gsOption.option[1] eq option}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        옵션3
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="OPTION3" th:disabled="${goodsStock!=null}">
                                                    <option></option>
                                                    <option th:each="option:${option3}" th:text="${option}" th:selected="${goodsStock?.gsOption.option[2] eq option}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4" style="display: none;">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        MD상품평
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control "  name="GS_MD" th:value="${goodsStock?.gsMd}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4" style="display: none;">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        안전재고
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control "  name="GS_SAFE_STOCK" onkeyup="numCommaKeyUp()" th:value="${goodsStock}==null? 0:${#numbers.formatInteger(goodsStock?.gsSafeStock,0,'COMMA')}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4" style="display: none;">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                         적정재고
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control "  name="GS_PROPER_STOCK" onkeyup="numCommaKeyUp()" th:value="${goodsStock}==null? 0:${#numbers.formatInteger(goodsStock?.gsProperStock,0,'COMMA')}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4" style="display: none;">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        일일재고 마감관리
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="GS_DAILY">
                                                    <option value="false" th:selected="${goodsStock?.gsDaily eq flase}">N</option>
                                                    <option value="true" th:selected="${goodsStock?.gsDaily eq true}">Y</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        배송비(재고)
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control text-right"  name="GS_DEL_PRICE" onkeyup="numCommaKeyUp()" th:value="${goodsStock}==null? 0:${#numbers.formatInteger(goodsStock?.gsDelPrice,0,'COMMA')}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        반품비(재고)
                                                    </span>
                                                </span>
                                                <input type="text" class="form-control text-right"  name="GS_DEL_PRICE_CANCEL" onkeyup="numCommaKeyUp()" th:value="${goodsStock}==null? 0:${#numbers.formatInteger(goodsStock?.gsDelPriceCancel,0,'COMMA')}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        색상
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="GS_COLOR" th:disabled="${goodsStock!=null}">
                                                    <option></option>
                                                    <option th:each="pColor:${pColor}" th:text="${pColor}" th:selected="${rgb eq pColor}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4" style="display: none;">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        재고 적재위치
                                                    </span>
                                                </span>
                                                <select data-placeholder="선택" class="form-control select" data-fouc name="GS_LOCATION">
                                                    <option></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset class="mb-0">
                                <legend class="">3.관리정보<span class="small ml-2"></span></legend>
                                <div class="row">
                                    <!-- 입력필드 -->
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      썸네일1(상품정보)
                                                    </span>
                                                </span>
                                                <div class="form-control" th:if="${#strings.isEmpty(product?.pThumbFile1)}">
                                                    <img class="input-thumb" id="P_THUMB_FILE1">
                                                </div>
                                                <div class="form-control" th:unless="${#strings.isEmpty(product?.pThumbFile1)}">
                                                    <img th:src="${product?.pThumbFile1}" class="input-thumb">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      썸네일2(상품정보)
                                                    </span>
                                                </span>
                                                <div class="form-control" th:if="${#strings.isEmpty(product?.pThumbFile2)}">
                                                    <img class="input-thumb" id="P_THUMB_FILE2">
                                                </div>
                                                <div class="form-control" th:unless="${#strings.isEmpty(product?.pThumbFile2)}">
                                                    <img th:src="${product?.pThumbFile2}" class="input-thumb">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      썸네일3(상품정보)
                                                    </span>
                                                </span>
                                                <div class="form-control" th:if="${#strings.isEmpty(product?.pThumbFile3)}">
                                                    <img class="input-thumb" id="P_THUMB_FILE3">
                                                </div>
                                                <div class="form-control" th:unless="${#strings.isEmpty(product?.pThumbFile3)}">
                                                    <img th:src="${product?.pThumbFile3}" class="input-thumb">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      썸네일4(상품정보)
                                                    </span>
                                                </span>
                                                <div class="form-control" th:if="${#strings.isEmpty(product?.pThumbFile4)}">
                                                    <img class="input-thumb" id="P_THUMB_FILE4">
                                                </div>
                                                <div class="form-control" th:unless="${#strings.isEmpty(product?.pThumbFile4)}">
                                                    <img th:src="${product?.pThumbFile4}" class="input-thumb">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      썸네일5(상품정보)
                                                    </span>
                                                </span>
                                                <div class="form-control" th:if="${#strings.isEmpty(product?.pThumbFile5)}">
                                                    <img class="input-thumb" id="P_THUMB_FILE5">
                                                </div>
                                                <div class="form-control" th:unless="${#strings.isEmpty(product?.pThumbFile5)}">
                                                    <img th:src="${product?.pThumbFile5}" class="input-thumb">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      썸네일6(상품정보)
                                                    </span>
                                                </span>
                                                <div class="form-control" th:if="${#strings.isEmpty(product?.pThumbFile6)}">
                                                    <img class="input-thumb" id="P_THUMB_FILE6">
                                                </div>
                                                <div class="form-control" th:unless="${#strings.isEmpty(product?.pThumbFile6)}">
                                                    <img th:src="${product?.pThumbFile6}" class="input-thumb">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      재고상품썸네일1
                                                    </span>
                                                </span>
                                                <input th:if="${#strings.isEmpty(goodsStock?.gsThumbFile1)}" type="file" name="GS_THUMB_FILE1" accept="image/*" class="input-thumb-file form-control">
                                                <div class="form-control" th:unless="${#strings.isEmpty(goodsStock?.gsThumbFile1)}">
                                                    <img th:src="${goodsStock?.gsThumbFile1}" class="input-thumb">
                                                    <input type="file" name="GS_THUMB_FILE1" accept="image/*" class="input-thumb-file">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      재고상품썸네일2
                                                    </span>
                                                </span>
                                                <input th:if="${#strings.isEmpty(goodsStock?.gsThumbFile2)}" type="file" name="GS_THUMB_FILE2" accept="image/*" class="input-thumb-file form-control">
                                                <div class="form-control" th:unless="${#strings.isEmpty(goodsStock?.gsThumbFile2)}">
                                                    <img th:src="${goodsStock?.gsThumbFile2}" class="input-thumb">
                                                    <input type="file" name="GS_THUMB_FILE2" accept="image/*" class="input-thumb-file">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      재고상품썸네일3
                                                    </span>
                                                </span>
                                                <input th:if="${#strings.isEmpty(goodsStock?.gsThumbFile3)}" type="file" name="GS_THUMB_FILE3" accept="image/*" class="input-thumb-file form-control">
                                                <div class="form-control" th:unless="${#strings.isEmpty(goodsStock?.gsThumbFile3)}">
                                                    <img th:src="${goodsStock?.gsThumbFile3}" class="input-thumb">
                                                    <input type="file" name="GS_THUMB_FILE3" accept="image/*" class="input-thumb-file">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <br>
                            <fieldset class="mb-0">
                                <span class="input-group-text w-100 mb--1">재고상품 상세이미지</span>
                                <textarea id="summerNote1" name="GS_CONTENT" th:text="${content}"></textarea>
                            </fieldset>
                            <br>
                        <fieldset class="mb-0">
                            <legend class="">4.사방넷 정보<span class="small ml-2"></span></legend>
                            <div class="row">
                                <!-- 입력필드 -->
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 연동 상태
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 연동상품
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 상품코드
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 상품연동일
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 인증번호
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 인증유효 시작일
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 인증유효 마지막일
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 발급일자
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 인증일자
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 인증기관
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 인증분야
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  사방넷 연동담당자
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <span class="input-group-prepend">
                                                <span class="input-group-text">
                                                  연동오류 사유
                                                </span>
                                            </span>
                                            <input type="text" name="" class="form-control"> <!--auto-->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset class="mb-0">
                            <legend class="">5.재고 상품 SPEC<span class="small ml-2"></span></legend>
                            <div class="row">
                                <!-- 입력필드 -->
                                <table class="table table-bordered table-sm">
                                    <tr style="background: #d9d9d9">
                                        <th>no</th>
                                        <th>스펙명</th>
                                        <th>스펙 속성</th>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td><input type="text" class="form-control"></td>
                                        <td>
                                            <select data-placeholder="선택" class="form-control select" data-fouc name="">
                                                <option></option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td><input type="text" class="form-control"></td>
                                        <td>
                                            <select data-placeholder="선택" class="form-control select" data-fouc name="">
                                                <option></option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td><input type="text" class="form-control"></td>
                                        <td>
                                            <select data-placeholder="선택" class="form-control select" data-fouc name="">
                                                <option></option>
                                            </select>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </form>
            <div class="navbar navbar-dark border-bottom-0 border-top d-flex justify-content-between py-2">
                <button type="button" class="btn btn-sm btn-light float-left" onclick="window.close();"><i class="icon-cross2 mr-1"></i>닫기</button>
                <button th:if="${product}==null" onclick="goodsStockSave()" type="button" class="btn btn-sm btn-secondary ml-1" id=""><i class="icon-floppy-disk mr-1"></i>저장</button>
                <button th:unless="${product}==null" onclick="goodsStockUpdate()" type="button" class="btn btn-sm btn-secondary ml-1" id=""><i class="icon-floppy-disk mr-1"></i>수정</button>
            </div>
        </div>
    </div>
</div>

<th:block th:replace="product/modal/productModal_goods_stock.html"/>
<<!-- 공통 js -->

<script th:src="@{/assets/js/main/bootstrap.bundle.min.js}"></script>

<!-- input -->
<script th:src="@{/assets/js/plugins/ui/moment/moment.min.js}"></script>
<script th:src="@{/assets/js/plugins/extensions/jquery_ui/interactions.min.js}"></script>
<script th:src="@{/assets/js/plugins/forms/selects/select2.min.js}"></script>
<script th:src="@{/assets/js/plugins/pickers/daterangepicker.js}"></script>
<script th:src="@{/assets/js/demo_pages/form_select2.js}"></script>
<script th:src="@{/assets/js/demo_pages/picker_date.js}"></script>

<!-- 데이터테이블 -->
<script th:src="@{/assets/js/plugins/tables/datatables/datatables.min.js}"></script>
<script th:src="@{/assets/js/plugins/tables/datatables/extensions/select.min.js}"></script>
<script th:src="@{/assets/js/plugins/tables/datatables/extensions/buttons.min.js}"></script>

<!-- 드래그&드랍 -->
<script th:src="@{/assets/js/demo_pages/extension_dnd.js}"></script>
<script th:src="@{/assets/js/plugins/ui/dragula.min.js}"></script>

<!-- 멀티 선택 (숫자) -->
<script th:src="@{/assets/js/plugins/forms/selects/bootstrap_multiselect.js}"></script>
<script th:src="@{/assets/js/demo_pages/form_multiselect.js}"></script>

<!-- 맞춤 js -->
<script th:src="@{/assets/js/app.js}"></script>
<script th:src="@{/assets/js/common.js}"></script>

<!-- 에디터 -->
<script th:src="@{/assets/js/plugins/editors/summernote/summernote.min.js}"></script>
<script th:src="@{/assets/js/plugins/editors/summernote/lang/summernote-ko-KR.js}"></script>

<!-- 에디터 -->
<script th:src="@{/assets/js/demo_pages/editor_summernote.js}"></script>
</body>


<th:block th:replace="modal/summernoteImageModal.html"></th:block>

<script th:inline="javascript">
    function selectProduct(row){
        var rowData = getDatatablemap('productModalTable', row);
        $('input[name=P_IDX]').val(rowData.P_IDX);
        $('input[name=P_NAME]').val(rowData.P_NAME);
        $('input[name=P_STATE]').val(rowData.P_STATE);
        $('input[name=P_MODEL]').val(rowData.P_MODEL);
        $('input[name=P_COST]').val(comma(rowData.P_COST));
        $('input[name=P_SELL_PRICE]').val(comma(rowData.P_SELL_PRICE));
        $('input[name=P_MEMO]').val(rowData.P_MEMO);
        if(rowData.P_THUMB_FILE1!=''){
            document.getElementById("P_THUMB_FILE1").src=rowData.P_THUMB_FILE1
        }
        if(rowData.P_THUMB_FILE2!=''){
            document.getElementById("P_THUMB_FILE2").src=rowData.P_THUMB_FILE2;
        }
        if(rowData.P_THUMB_FILE3!=''){
            document.getElementById("P_THUMB_FILE3").src=rowData.P_THUMB_FILE3;
        }
        if(rowData.P_THUMB_FILE4!=''){
            document.getElementById("P_THUMB_FILE4").src=rowData.P_THUMB_FILE4;
        }
        if(rowData.P_THUMB_FILE5!=''){
            document.getElementById("P_THUMB_FILE5").src=rowData.P_THUMB_FILE5;
        }
        if(rowData.P_THUMB_FILE6!=''){
            document.getElementById("P_THUMB_FILE6").src=rowData.P_THUMB_FILE6;
        }
        var str= rowData.OPTION1.split(",");
        var str2= rowData.OPTION2.split(",");
        var str3= rowData.OPTION3.split(",");

        var color = JSON.parse(rowData.P_COLOR);
        var gsColor = '';
        for(key in color){
            gsColor+='<option>'+key+':'+color[key]+'</option>'
        }
        $('select[name="GS_COLOR"]').append(gsColor);

        var option1 = "";
        var option2 = "";
        var option3 = "";

        for(var i in str){
            var result = str[i]
            option1+='<option>'+result+'</option>';
        }
        for(var i in str2){
            var result = str2[i]
            option2+='<option>'+result+'</option>';
        }
        for(var i in str3){
            var result = str3[i]
            option3+='<option>'+result+'</option>';
        }

        $('select[name=OPTION1]').append(option1)
        $('select[name=OPTION2]').append(option2);
        $('select[name=OPTION3]').append(option3);
        $('#searchProductModal').modal('hide');
    }

    function goodsStockSave(){
        if(confirm("저장하시겠습니까?")){
            var param = new FormData($('#goodsStockForm')[0]);
            $.ajax({
                url:'/product/goodsStockSave.ajax',
                data: param,
                processData:false,
                contentType:false,
                type:'post',
                success:function(res) {
                    if(res.message.indexOf('저장되었습니다.')!=-1){
                        opener.location.reload();
                        self.close();
                    }
                }
            })
        }
    }

    function goodsStockUpdate(){
        if(confirm("수정하시겠습니까?")){
            var param = new FormData($('#goodsStockForm')[0]);
            $.ajax({
                url:'/product/'+[[${goodsStock?.gsIdx}]]+'/goodsStockUpdate.ajax',
                data: param,
                processData:false,
                contentType:false,
                type:'post',
                success:function(res) {
                    if(res.message.indexOf('수정되었습니다.')!=-1){
                        opener.location.reload();
                        self.close();
                    }
                }
            })
        }
    }
</script>
<script th:inline="javascript">
    window.onload=function(){
        smImage('#summerNote1');
        smImage('#summerNote2');
        smImage('#summerNote3');
    }
</script>

</html>
