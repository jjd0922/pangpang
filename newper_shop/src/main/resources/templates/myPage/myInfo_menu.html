<!-- 회원정보수정-->
<th:block th:fragment="updateInfo">
    <!-- 회원탈퇴 버튼 -->
    <div class="btn btn6 mem-secession-btn">
        <a onclick="updateInfoBtn('deleteCustomer')">회원탈퇴</a>
    </div>
    <!-- 테이블 -->
    <ul class="default-table">
        <!-- 아이디 -->
        <li>
            <div class="default-table-title">아이디<span class="color-red">&nbsp;*</span></div>
            <div class="default-table-content">
                <p class="fixed-id" th:text="${customer.cuId}">hong1004</p>
            </div>
        </li>
        <!-- 비밀번호 -->
        <li>
            <div class="default-table-title">비밀번호<span class="color-red">&nbsp;*</span></div>
            <div class="default-table-content">
                <div class="btn btn10 pw-change">
                    <a onclick="updateInfoBtn('changePwd')">비밀번호변경</a>
                </div>
            </div>
        </li>
        <!-- 이름 -->
        <li>
            <div class="default-table-title">이름<span class="color-red">&nbsp;*</span></div>
            <div class="default-table-content">
                <input type="text" class="form-control name" maxlength="10" title="이름" th:value="${customer.cuName}">
            </div>
        </li>
        <!-- 성별 -->
        <li>
            <div class="default-table-title">성별</div>
            <div class="default-table-content display-flex">
                <div>
                    <input type="radio" id="male" name="gender" value="남성" th:checked="${customer.cuGender eq T(com.newper.constant.CuGender).M}">
                    <label for="male">남성</label>
                </div>
                <div>
                    <input type="radio" id="female" name="gender" value="여성" th:checked="${customer.cuGender eq T(com.newper.constant.CuGender).F}">
                    <label for="female">여성</label>
                </div>
            </div>
        </li>
        <!-- 생년월일 -->
        <li>
            <div class="default-table-title">생년월일</div>
            <div class="default-table-content">
                <div class="birth display-flex space-between">
                    <select name="year" class="form-control" th:disabled="${customer != null}">
                        <option value="">선택</option>
                        <option th:each="year: ${#numbers.sequence(1900, #calendars.year(#calendars.createNow()))}"
                                th:value="${year}" th:text="${year}" th:selected="${year eq customer.cuBirth.getYear()}"></option>
                    </select>
                    <select name="month" class="form-control" th:disabled="${customer != null}">
                        <option value="">선택</option>
                        <option th:each="month: ${#numbers.sequence(1,12)}"
                                th:value="${month}" th:text="${month}" th:selected="${month eq customer.cuBirth.getMonthValue()}"></option>
                    </select>
                    <select name="day" class="form-control" th:disabled="${customer != null}">
                        <option value="">선택</option>
                        <option th:each="day: ${#numbers.sequence(1,31)}"
                                th:value="${day}" th:text="${day}" th:selected="${day eq customer.cuBirth.getDayOfMonth()}"></option>
                    </select>
                </div>
            </div>
        </li>
        <!-- 이메일 -->
        <li>
            <div class="default-table-title">이메일</div>
            <div class="default-table-content">
                <div class="display-flex space-between alignItems-center eMail-wrap">
                    <input type="text" class="form-control eMail" placeholder="이메일">
                    <span class="at">@</span>
                    <select class="form-control">
                        <option value="직접입력">직접입력</option>
                        <option value="naver.com">naver.com</option>
                        <option value="daum.net">daum.net</option>
                        <option value="hotmail.com">hotmail.com</option>
                        <option value="nate.com">nate.com</option>
                        <option value="yahoo.co.kr">yahoo.co.kr</option>
                        <option value="paran.com">paran.com</option>
                        <option value="empas.com">empas.com</option>
                        <option value="dreamwiz.com">dreamwiz.com</option>
                        <option value="lycos.co.kr">lycos.co.kr</option>
                        <option value="korea.com">korea.com</option>
                        <option value="gmail.com">gmail.com</option>
                        <option value="hanmir.com">hanmir.com</option>
                    </select>
                </div>
                <input type="text" class="form-control width-100">
            </div>
        </li>
        <!-- 휴대폰 번호 -->
        <li class="phone2">
            <div class="default-table-title">휴대폰 번호<span class="color-red">&nbsp;*</span></div>
            <div class="default-table-content">
                <div class="display-flex space-between alignItems-center">
                    <input type="text" class="form-control phone" maxlength="3" name="phone1" title="휴대폰번호 첫 세자리" th:value="${customer?.cuPhone.split('-')[0]}">
                    <span>&nbsp;-&nbsp;</span>
                    <input type="text" class="form-control phone" maxlength="4" name="phone2" title="휴대폰번호 중간 네자리" th:value="${customer?.cuPhone.split('-')[1]}">
                    <span>&nbsp;-&nbsp;</span>
                    <input type="text" class="form-control phone" maxlength="4" name="phone3" title="휴대폰번호 마지막 네자리" th:value="${customer?.cuPhone.split('-')[2]}">
                </div>
            </div>
        </li>
        <!-- 전화번호 -->
        <li class="phone2">
            <div class="default-table-title">전화번호</div>
            <div class="default-table-content">
                <div class="display-flex space-between alignItems-center">
                    <input type="text" class="form-control phone" maxlength="3" name="" title="전화번호 지역번호">
                    <span>&nbsp;-&nbsp;</span>
                    <input type="text" class="form-control phone" maxlength="4" name="" title="전화번호1">
                    <span>&nbsp;-&nbsp;</span>
                    <input type="text" class="form-control phone" maxlength="4" name="" title="전화번호2">
                </div>
            </div>
        </li>
        <!-- 주소 -->
        <li>
            <div class="default-table-title">주소</div>
            <div class="default-table-content">
                <div class="addr-info">
                    <div class="addr-input">
                        <input type="text" class="form-control zip-code" id="k_address1" name="post" title="상세주소">
                        <div class="btn btn10 searchAddr-btn">
                            <a href="javascript:daum_address();">우편번호 검색</a>
                        </div>
                        <input type="checkbox" id="default-addr" title="기본배송지 저장" class="custom-checkbox">
                        <label for="default-addr">기본배송지 저장</label>
                    </div>
                    <div class="form-control mb-5">
                        <p id="address">서울특별시 송파구 법원로 11길 11</p>
                    </div>
                    <div class="addr-input">
                        <input type="text" title="상세 주소 입력" class="form-control addr-text" placeholder="상세주소를 입력하세요.">
                    </div>
                </div>
            </div>
        </li>
    </ul>
    <!-- 동의 -->
    <div class="consent updateInfo-consent">
        <div>
            <input type="checkbox" id="allConsent" class="custom-checkbox" value="">
            <label for="allConsent"><span class="bold font-sm">전체동의</span><span class="color-grey999 font-xxsm">&nbsp;(선택 정보 포함)</span></label>
        </div>
        <div>
            <p>
                <input type="checkbox" id="joinConsent1" class="custom-checkbox" attr="agree" opt="essential" checked>
                <label for="joinConsent1">[필수] 만 14세 이상</label>
            </p>
            <p>
                <input type="checkbox" id="joinConsent2" class="custom-checkbox" attr="agree" opt="essential" checked>
                <label for="joinConsent2">[필수] 이용 약관 동의</label>
            </p>
            <p>
                <input type="checkbox" id="joinConsent3" class="custom-checkbox" attr="agree" opt="essential" checked>
                <label for="joinConsent3">[필수] 개인정보 처리방침 동의</label>
            </p>
            <p>
                <input type="checkbox" id="joinConsent4" class="custom-checkbox" attr="agree" opt="essential" checked>
                <label for="joinConsent4">[필수] 개인정보 제공 동의</label>
            </p>
            <p>
                <input type="checkbox" id="joinConsent5" class="custom-checkbox" attr="agree">
                <label for="joinConsent5">[선택] 쇼핑혜택 및 광고성 정보 수신동의</label>
            </p>
            <div>
                <p>
                    <input type="checkbox" id="joinSMS-check" class="custom-checkbox" name="cuMarketingSms" value="" attr="agree" opt="opt" th:checked="${customer?.cuMarketingSms}">
                    <label for="joinSMS-check">SMS</label>
                </p>
                <p>
                    <input type="checkbox" id="joinEmail-check" class="custom-checkbox" name="cuMarketingMail" value="" attr="agree" opt="opt" th:checked="${customer?.cuMarketingMail}">
                    <label for="joinEmail-check">이메일</label>
                </p>
            </div>
        </div>
    </div>
    <!-- 버튼 -->
    <div class="join-button-group">
        <div class="btn btn3 semi-bold">
            <a href="javascript:openMenu();">취소</a>
        </div>
        <div class="btn btn2 semi-bold">
            <a href="javascript:;">회원정보 수정완료</a>
        </div>
    </div>

    <script th:src="@{/js/daum_address.js}"></script>
    <script>
        function updateInfoBtn(menu){
            $.ajax({
                url: '/myPage/myInfo/'+menu+'.load'
                ,type: 'post'
            }).done(function(res){
                $('#myInfoMenu').empty();
                $('#myInfoMenu').append(res);
            });
        }

        /** 다음 주소 api사용 */
        function daum_address() {
            new daum.Postcode({
                oncomplete: function(data) {
                    $('#k_address1').val(data.zonecode);
                    $('#address').text(data.address);
                }
            }).open();
        }

        $(document).ready(function () {
            isCheckedAll('input[opt=opt]', 'joinConsent5');
            isCheckedAll('input[attr=agree]', 'allConsent');
        });

        $('#allConsent').change(function () {
            agreeAll('input[attr=agree]',$(this).prop('checked'));
        });
        $('#joinConsent5').change(function () {
            agreeAll('input[opt=opt]',$(this).prop('checked'));
        });
        $('input[opt=opt]').change(function () {
            isCheckedAll('input[opt=opt]', 'joinConsent5');
        });
        $('input[attr=agree]').change(function () {
            isCheckedAll('input[attr=agree]', 'allConsent');
        });
    </script>
</th:block>
<!-- 회원정보수정 end-->

<!-- 환불계좌관리-->
<th:block th:fragment="refundAccount">
    <div class="page-des mt-30">
        <p><span class="color-red">※</span>&nbsp;&nbsp;고객님 본인계좌만 등록 가능하며, 타인 계좌 등록으로 환불이 된 경우 이에 대한 책임을 지지 않습니다.
        </p>
        <p><span class="color-red">※</span>&nbsp;&nbsp;계좌의 폐기 또는 중지로 인해 환불이 지연될 수 있으니 고객님의 주거래 은행계좌를 등록 부탁 드립니다.</p>
    </div>

    <!-- 테이블 -->
    <ul class="refundAccount-table bold">
        <li>
            <div class="refundAccount-title">은행명</div>
            <div class="refundAccount-content">기업은행</div>
        </li>
        <li>
            <div class="refundAccount-title">계좌번호</div>
            <div class="refundAccount-content">1234-56789-45******</div>
        </li>
        <li>
            <div class="refundAccount-title">예금주</div>
            <div class="refundAccount-content">홍길*</div>
        </li>
    </ul>

    <!-- 동의 체크 -->
    <div class="refundAccount-agree-wrap">
        <input type="checkbox" class="color-grey666" id="refundAccount-agree">
        <label for="refundAccount-agree">등록된 환불계좌를 삭제하는 것에 동의합니다.</label>
    </div>

    <!-- 버튼 -->
    <div class="display-flex center">
        <div class="btn btn3">
            <a onclick="refundUpdate('refundDelete')">계좌삭제</a>
        </div>
        <div class="btn btn2">
            <a onclick="refundUpdate('refundUpdate')">환불계좌수정</a>
        </div>
    </div>




    <script>
        function refundUpdate(menu){
            $.ajax({
                url: '/myPage/myInfo/'+menu+'.load'
                ,type: 'post'
            }).done(function(res){
                $('#myInfoMenu').empty();
                $('#myInfoMenu').append(res);
            });
        }
    </script>
</th:block>
<!-- 환불계좌관리 end-->

<!-- 계좌삭제-->
<th:block th:fragment="refundDelete">
계좌삭제 완료 페이지

    <button onclick="openMyInfoMenu('refundAccount')">완료</button>
</th:block>
<!-- 계좌삭제 end-->

<!-- 환불계좌 수정-->
<th:block th:fragment="refundUpdate">
    <div class="page-des mt-30">
        <p><span class="color-red">※</span>&nbsp;&nbsp;고객님 본인계좌만 등록 가능하며, 타인 계좌 등록으로 환불이 된 경우 이에 대한 책임을 지지 않습니다.
        </p>
        <p><span class="color-red">※</span>&nbsp;&nbsp;계좌의 폐기 또는 중지로 인해 환불이 지연될 수 있으니 고객님의 주거래 은행계좌를 등록 부탁 드립니다.</p>
    </div>

    <!-- 테이블 -->
    <ul class="refundAccount-table bold">
        <li>
            <div class="refundAccount-title">은행명</div>
            <div class="refundAccount-content">
                <select class="form-control">
                    <option value="직접입력">은행선택</option>
                    <option value="기업은행">기업은행</option>
                    <option value="국민은행">국민은행</option>
                    <option value="우리은행">우리은행</option>
                    <option value="신한은행">신한은행</option>
                    <option value="하나은행">하나은행</option>
                    <option value="농협은행">농협은행</option>
                    <option value="SC은행">SC은행</option>
                    <option value="새마을금고">새마을금고</option>
                    <option value="우체국">우체국</option>
                    <option value="카카오뱅크">카카오뱅크</option>
                    <option value="케이뱅크">케이뱅크</option>
                    <option value="토스뱅크">토스뱅크</option>
                </select>
            </div>
        </li>
        <li>
            <div class="refundAccount-title">계좌번호</div>
            <div class="refundAccount-content">
                <input type="number" class="form-control" placeholder="계좌번호입력 (-없이 입력)">
            </div>
        </li>
        <li>
            <div class="refundAccount-title">예금주</div>
            <div class="refundAccount-content">
                <input type="text" placeholder="예금주명" class="form-control">
            </div>
        </li>
    </ul>

    <!-- 동의 체크 -->
    <div class="refundAccount-agree-wrap">
        <input type="checkbox" class="color-grey666" id="refundAccount-agree">
        <label for="refundAccount-agree">등록된 환불계좌를 삭제하는 것에 동의합니다.</label>
    </div>

    <div class="display-flex center">
        <div class="btn btn3">
            <a onclick="openMyInfoMenu('refundAccount');">취소</a>
        </div>
        <div class="btn btn2">
            <a onclick="alert('준비중')">환불계좌등록</a>
        </div>
    </div>
</th:block>
<!-- 환불계좌 수정 end-->


<!-- 배송지관리-->
<th:block th:fragment="delivery">
    <div class="delivery-page-des">
        <div>
            <p><span class="color-red">※</span>&nbsp;&nbsp;자주 사용하시는 배송지를 최대 20개 까지 등록하실 수 있습니다.
            </p>
        </div>
        <div class="btn btn3">
            <a href="javascript:;">신규배송지 등록</a>
        </div>
    </div>

    <div>
        <!-- 배송지관리 테이블 제목 -->
        <ul class="table-title2 addrManagement-table-title font-md">
            <li>배송지명</li>
            <li>주소</li>
            <li>연락처</li>
            <li>수정/삭제</li>
        </ul>
        <!-- 배송지관리 리스트 -->
        <ul>
            <!-- 상품 1 -->
            <li>
                <ul class="table-content2 addrManagement-table-content font-md">
                    <!-- 배송지명 -->
                    <li>
                        <div class="display-flex flex-column alignItems-center">
                            <p>집</p>
                            <p class="bold">홍길동</p>
                            <!-- 기본배송지 아닐 경우 아래 <div>태그 삭제 -->
                            <div class="defaultAddr font-xsm">기본배송지</div>
                        </div>
                    </li>
                    <!-- 주소 -->
                    <li>
                        <div class="display-flex">
                            <p>15290</p>
                            <div>
                                <p class="bold">서울특별시 송파구 법원로 11길 11</p>
                                <p>901호</p>
                            </div>
                        </div>
                    </li>
                    <!-- 연락처 -->
                    <li>
                        <p>010-1234-5678</p>
                    </li>
                    <!-- 수정/삭제 -->
                    <li class="flex-column button-vertical-group">
                        <div class="btn btn2 addrManagement-btn"><a href="javascript:;">수정</a></div>
                        <div class="btn btn3 addrManagement-btn"><a href="javascript:;">삭제</a></div>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

</th:block>
<!-- 배송지관리 end-->

<!-- 회월탈퇴 -->
<th:block th:fragment="deleteCustomer">
    <div class="deleteCustomer-wrap">
        <div class="updateInfo-page-des">
            <h2>회원탈퇴</h2>
        </div>

        <h5>어떤 점이 불편하셨나요?</h5>
        <div class="complaint">
            <div>
                <input type="radio" id="delete-reason1" name="delete-reason">
                <label for="delete-reason1">배송불만</label>
            </div>
            <div>
                <input type="radio" id="delete-reason2" name="delete-reason">
                <label for="delete-reason2">상품의 다양성/가격/품질 불만</label>
            </div>
            <div>
                <input type="radio" id="delete-reason3" name="delete-reason">
                <label for="delete-reason3">교환/환불/반품 서비스 불만</label>
            </div>
            <div>
                <input type="radio" id="delete-reason4" name="delete-reason">
                <label for="delete-reason4">실질적인 혜택 부족</label>
            </div>
            <div>
                <input type="radio" id="delete-reason5" name="delete-reason">
                <label for="delete-reason5">쇼핑몰 사용이 불편함</label>
            </div>
            <div>
                <input type="radio" id="delete-reason6" name="delete-reason">
                <label for="delete-reason6">개인정보 유출 우려</label>
            </div>
            <div>
                <input type="radio" id="delete-reason7" name="delete-reason">
                <label for="delete-reason7">자주 사용하지 않음</label>
            </div>
            <div>
                <input type="radio" id="delete-reason8" name="delete-reason">
                <label for="delete-reason8">기타사유</label>
            </div>
        </div>

        <h5>회원탈퇴 사유 상세입력</h5>
        <textarea class="form-control" placeholder="내용을 입력하세요."></textarea>

        <!-- 안내사항 -->
        <ul class="info-guide color-grey666">
            <li>
                <strong>[안내사항]</strong>
                <p>- 상품문의는 회원만 문의할 수 있습니다.</p>
                <p>- 문의글에 관련된 저작권은 AJ전시몰에 귀속됩니다.</p>
                <p>- 미풍양속을 해치는 글, 상품비방글(비회원구매) 등은 관리자에 의해 임의삭제 될 수 있습니다. (IP정보 자동저장)</p>
                <p>- 주문/배송/결제/보상에 관련 된 문의는 고객게시판을 통하셔야 신속하게 조치 받으실 수 있습니다.</p>
            </li>
        </ul>

        <!-- 버튼 -->
        <div class="join-button-group">
            <div class="btn btn3 semi-bold">
                <a onclick="alert('준비중!')">회원탈퇴</a>
            </div>
            <div class="btn btn2 semi-bold">
                <a onclick="openMyInfoMenu('updateInfo');">취소</a>
            </div>
        </div>
    </div>


</th:block>
<!-- 회월탈퇴 end -->

<!-- 비밀번호변경 -->
<th:block th:fragment="changePwd">
    <div class="updateInfo-page-des">
        <h2>비밀번호변경</h2>
        <p>고객님의 개인정보 변경을 위해 새로운 비밀번호를 등록하세요.</p>
    </div>

    <form id="changePw">
        <!-- 테이블 -->
        <ul class="default-table pw-table">
            <!-- 기존 비밀번호 -->
            <li>
                <div class="default-table-title">기존 비밀번호</div>
                <div class="default-table-content">
                    <input type="password" class="form-control" maxlength="12" title="비밀번호" placeholder="비밀번호 영문, 숫자 혼합 8~12자" name="cuPwOld">
                </div>
            </li>
            <!-- 새 비밀번호 -->
            <li>
                <div class="default-table-title">새 비밀번호</div>
                <div class="default-table-content joinPW-input-wrap">
                    <input type="password" class="form-control" maxlength="12" title="비밀번호" placeholder="비밀번호 영문, 숫자 혼합 8~12자" id="pw" name="cuPw">
                    <input type="password" class="form-control" maxlength="12" title="비밀번호 확인" placeholder="비밀번호 확인" id="pwConfirm">
                </div>
            </li>
        </ul>
    </form>

    <!-- 버튼 -->
    <div class="join-button-group">
        <div class="btn btn3 semi-bold">
            <a onclick="openMyInfoMenu('updateInfo');">취소</a>
        </div>
        <div class="btn btn2 semi-bold">
            <a onclick="changePwd()">변경하기</a>
        </div>
    </div>

    <script>
        function changePwd() {
            var pwOld = $('input[name=cuPwOld]');var pw = $('#pw'); var pwConfirm = $('#pwConfirm');
            var pwRegex = /[0-9a-zA-Z]{8,12}/g;
            if (pwOld.val() == null || pwOld.val() == '') {
                alert("기존 비밀번호를 입력해주세요.");
                pwOld.focus();
                return ;
            } else if (pw.val() == null || pw.val() == '') {
                alert('비밀번호를 입력해주세요.');
                pw.focus();
                return ;
            } else if (!pwRegex.test(pw.val())) {
                alert('비밀번호는 영문과 숫자를 혼합하여 8~12자로 구성해야합니다.');
                pw.focus();
                return ;
            } else if (pw.val() != pwConfirm.val()) {
                alert('비밀번호가 일치하지 않습니다.');
                pwConfirm.focus();
                return ;
            }
            $.ajax({
                url: '/customer/changePw.ajax'
                ,type: 'post'
                ,data: $('#changePw').serialize()
                ,success: function () {
                    openMyInfoMenu('updateInfo');
                }
            });
        }
    </script>
</th:block>
<!-- 비밀번호변경 end -->

