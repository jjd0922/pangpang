<script>
    <!-- 공통 헤더 -->
    /*** 검색창 펼침 ***/
    var searchInput = $('#searchInput');

    searchInput.click(function(){
        $(this).parents().find('.searchBar').toggleClass('on');
        $('.searchBar-open').toggleClass('on');
    });

    /* 검색창 펼침 내부 tab 기능 */
    var searchTab = $('.searchWord-tab li'),
        searchTabContent = $('.searchWord-content>div')

    searchTab.click(function(){
        $(this).addClass('on');
        $(this).siblings().removeClass('on');

        let $Idx = $(this).index();
        searchTabContent.eq($Idx).addClass('on').siblings().removeClass('on');
    });

    // 검색창 펼침 내부 배너 타이틀 슬라이드
    new Swiper('.swiper-searchBar', {
        slidesPerView: 1,
        speed:700,
        /*autoplay:true,*/
        navigation: {
            nextEl: '.searchBar-next',
            prevEl: '.searchBar-prev',
        },
    });

    /*** gnb-menu list slide [swiper] ***/
    new Swiper('.swiper-gnb', {
        slidesPerView: 'auto',
        navigation: {
            nextEl: '.swiper-gnb-next',
            disabledClass: 'gnb-disabled',
        }
    });

    // nav 전체카테고리 클릭시 펼침
    $('.menu-btn-wrap').click(function() {
        $('.gnb-ctg-all').toggle();
    });

    <!-- index 페이지 -->
    /*** 메인 이미지 슬라이드 [swiper] ***/
    var swiper = new Swiper('.swiper-main-image', {
        slidesPerView: 1,
        speed: 300,
        autoplay: true,
        loop: true,
        loopAdditionalSlides: 1,
        pagination: {
            el: '.swiper-pagination', type: 'custom',
            renderCustom: function (swiper, current, total) {
                return '<span class="current-num">' + current + '</span> &nbsp;/&nbsp; <span class="total-num">' + total + '</span>';
            },
        },
        navigation: {
            nextEl: '.swiper-next',
            prevEl: '.swiper-prev',
        },
        on: {
            init: function () {
                $(".swiper-progress-bar").removeClass("animate");
                $(".swiper-progress-bar").eq(0).addClass("animate");
            },
            slideChangeTransitionStart: function () {
                $(".swiper-progress-bar").removeClass("animate");
            },
            slideChangeTransitionEnd: function () {
                $(".swiper-progress-bar").eq(0).addClass("animate");
            }
        }
    });
    // index page-main image slide 일시정지, 재생 기능
    $(".swiper-button-pause").click(function () {
        $(this).css('display', 'none');
        $('.swiper-button-play').css('display', 'block');
        swiper.autoplay.stop();
        return false
    });
    $(".swiper-button-play").click(function () {
        $(this).css('display', 'none');
        $('.swiper-button-pause').css('display', 'block');
        swiper.autoplay.start();
        return false
    });

    /*** 메인 이미지 슬라이드 좌측 카테고리 서브 메뉴 열림 ***/
    $('.ctg-open').hide();
    $(".ctg-all>li").mouseover(function(){
        $(this).addClass("on")
            .children(".ctg-open").show();

    });
    $(".ctg-all>li").mouseout(function(){
        $(this).removeClass("on")
            .children(".ctg-open").hide();
    });


    /*** 뉴퍼딜 이벤트 ***/
    new Swiper('.swiper-newperDeal', {
        slidesPerView: 1,
        spaceBetween: 20,
        speed:700,
        /*autoplay:true,*/
        observer: true,
        observeParents: true,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 30,
                navigation: {
                    nextEl: '.newperDeal-next',
                    prevEl: '.newperDeal-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    /*** 반값 이벤트 (이벤트 상품 그룹 1) ***/
    new Swiper('.swiper-event-group1', {
        slidesPerView: 2,
        spaceBetween: 0,
        speed:700,
        /*autoplay:true,*/
        observer: true,
        observeParents: true,
        breakpoints: {
            992: {
                slidesPerView: 4,
                spaceBetween: 35,
                navigation: {
                    nextEl: '.swiper-event-group1-next',
                    prevEl: '.swiper-event-group1-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });
    // 좋아요(하트) 클릭 시 하트 색채움 사진으로 전환
    $(".heart").click(function () {
        $(this).toggleClass('active');
    });

    /*** 한정수량 일일특가 (이벤트 상품 그룹 2) ***/
    new Swiper('.swiper-event-group2', {
        slidesPerView: 1,
        grid: {
            rows: 1,
        },
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 2,
                grid: {
                    rows: 2,
                },
                spaceBetween: 35,
                navigation: {
                    nextEl: '.swiper-event-group2-next',
                    prevEl: '.swiper-event-group2-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    /*** 뉴퍼마켓 숨은 꿀템 (이벤트 상품 그룹 3) ***/
    new Swiper('.swiper-event-group3', {
        slidesPerView: 1,
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 35,
                navigation: {
                    nextEl: '.swiper-event-group3-next',
                    prevEl: '.swiper-event-group3-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    /*** 알짜만 모아모아 기획전 (이벤트 상품 그룹 4) ***/
    new Swiper('.swiper-event-group4', {
        slidesPerView: 1,
        spaceBetween: 0,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 0,
                navigation: {
                    nextEl: '.swiper-event-group4-next',
                    prevEl: '.swiper-event-group4-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    /*** TODAY BEST ***/
    $('.todayBest-tab>li').click(function(){
        $(this).addClass('on');
        $(this).siblings().removeClass('on');

        var $Idx = $(this).index();

        $('.todayBest-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    });

    new Swiper('.swiper-todayBest', {
        slidesPerView: 2,
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 4,
                spaceBetween: 50,
                navigation: {
                    nextEl: '.todayBest-content-next',
                    prevEl: '.todayBest-content-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    /*** 카테고리 탭 메뉴 (ex: MD 추천 카테고리, 베스트 100) ***/
    var headerHeight = $('header').height();

    $(window).scroll(function(event) {
        if ($(window).scrollTop() > headerHeight) {
            $('.sticky').css({top:headerHeight, padding:'0'});
        };
    });

    $('.ctg-tab>li').click(function(){
        $(this).addClass('on');
        $(this).siblings().removeClass('on');

        var $Idx = $(this).index();

        $('.ctg-tab-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    });

    new Swiper('.swiper-ctg-tab', {
        slidesPerView: 'auto',
    });

    new Swiper('.swiper-md-content', {
        slidesPerView: 2,
        spaceBetween: 15,
        pagination: {
            el: '.md-content-pagination',
            clickable: true,
        },
        breakpoints: {
            992: {
                slidesPerView: 4,
                spaceBetween: 35,
                navigation: {
                    nextEl: '.md-tab-content-next',
                    prevEl: '.md-tab-content-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    /*** 리얼리뷰 PICK ***/
    new Swiper('.swiper-realReview', {
        slidesPerView: 2,
        spaceBetween: 15,
        slidesPerGroup: 2,
        pagination: {
            el: '.review-pagination',
            clickable: true,
        },
        breakpoints: {
            992: {
                slidesPerView: 4,
                slidesPerGroup: 4,
                spaceBetween: 35,
            },
        },
    });

    /*** 공지사항 - 지점안내 [swiper] ***/
    new Swiper('.swiper-storeInfo', {
        slidesPerView: 2,
        spaceBetween: 5,
        speed:700,
        observer: true,
        observeParents: true,
        navigation: {
            prevEl: '.storeInfo-prev',
            nextEl: '.storeInfo-next',
            disabledClass: 'btn-disabled',
        },
        breakpoints: {
            992: {
                slidesPerView: 4,
                spaceBetween: 20,

            },
        },
    });

    /*** 고객센터 ***/
    $('.questions>li').click(function(){
        $(this).addClass('on');
        $(this).siblings().removeClass('on');

        var $Idx = $(this).index();

        $('.answer>li').eq($Idx).addClass('on').siblings().removeClass('on');
    });

    //고객센터 tab
    // $('.cc-menu-tab>li').click(function(){
    //     $(this).addClass('on');
    //     $(this).siblings().removeClass('on');
    //
    //     var $Idx = $(this).index();
    //
    //     $('.cc-menu-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    // });

    // 자주묻는질문 tab
    // $('.questions-tab>li').click(function(){
    //     $(this).addClass('on');
    //     $(this).siblings().removeClass('on');
    //
    //     var $Idx = $(this).index();
    //
    //     $('.questions-tab-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    // });

    $('.cc-table-title').click(function() {
        $(this).siblings().toggleClass('on');
    });

    $('.mo-questionsTop4 .cc-table-title').click(function() {
        $(this).toggleClass('on');
    });

    // 자주묻는질문 tab 슬라이드
    new Swiper('.swiper-questionsTab', {
        slidesPerView: 'auto',
    });

    // 보기쉬운 FAQ tab
    // $('.faq-tab>li').click(function(){
    //     $(this).addClass('on');
    //     $(this).siblings().removeClass('on');
    //
    //     var $Idx = $(this).index();
    //
    //     $('.faq-tab-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    // });

    var Height = $('.faq').outerHeight() /4 + 'px';
    $('.faq-tab>li').css('height', Height);


    /*** 상품상세 ***/
    var prodThumbs = new Swiper('.prod-thumbList-swiper', {
        spaceBetween: 10,
        slidesPerView: 6,
    });
    new Swiper(".prod-thumb", {
        thumbs: {
            swiper: prodThumbs,
        },
        effect: "fade",
        slides: false,
    });

    //탭 스크롤시 하단 외곽 추가
    $(window).scroll(function(){
        var sectionHeight = $('.relatedProducts').outerHeight() + $('.relatedProducts').offset().top - $('header').outerHeight();

        if ($(window).scrollTop() >= sectionHeight) {
            $(".boxTab3-wrap").addClass("on");
        } else {
            $(".boxTab3-wrap").removeClass("on");
        }
    })

    // 연관상품
    new Swiper('.swiper-group1', {
        slidesPerView: 1,
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 0,
                navigation: {
                    nextEl: '.swiper-group1-next',
                    prevEl: '.swiper-group1-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    // 상품상세 - 이 상품을 본 고객이 많이 본 다른 상품
    new Swiper('.swiper-group2', {
        slidesPerView: 1,
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 25,
                navigation: {
                    nextEl: '.swiper-group2-next',
                    prevEl: '.swiper-group2-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    // 상품상세 - 함께 구매하면 좋은 상품
    new Swiper('.swiper-group3', {
        slidesPerView: 1,
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 35,
                navigation: {
                    nextEl: '.swiper-group3-next',
                    prevEl: '.swiper-group3-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });

    // 상품상세 - 베스트 포토리뷰 슬라이드
    new Swiper('.swiper-group4', {
        slidesPerView: 1,
        spaceBetween: 10,
        breakpoints: {
            992: {
                slidesPerView: 3,
                spaceBetween: 25,
                navigation: {
                    nextEl: '.swiper-group4-next',
                    prevEl: '.swiper-group4-prev',
                    disabledClass: 'btn-disabled',
                },
            },
        },
    });
    // 좋아요 클릭시 active
    $('.good-wrap').click(function() {
        $(this).toggleClass('on');
    });

    // 상품 문의 제목 클릭 시 문의내용과 답변 보이기
    $('.inquiry-title').click(function() {
        $(this).toggleClass('on');
        $(this).parent().children('.inquiry-content').toggle();
    });

    // 상품상세 탭 클릭 시 해당 영역으로 스크롤 이동
    var productTab1 = $('.product-tab li:nth-child(1)'),
        productTab2 = $('.product-tab li:nth-child(2)'),
        productTab3 = $('.product-tab li:nth-child(3)'),
        productTab4 = $('.product-tab li:nth-child(4)'),
        productTab5 = $('.product-tab li:nth-child(5)'),
        tabHeight = $('.product-tab').height();


    productTab1.click(function(x){
        x.preventDefault();
        contentDistence1 = $('#product-detail').offset().top - tabHeight - headerHeight;
        $('html, body').stop().animate({scrollTop : contentDistence1});
    });
    productTab2.click(function(x){
        x.preventDefault();
        contentDistence2 = $('#product-review').offset().top - tabHeight - headerHeight;
        $('html, body').stop().animate({scrollTop : contentDistence2});
    });
    productTab3.click(function(x){
        x.preventDefault();
        contentDistence3 = $('#product-inquiry').offset().top - tabHeight - headerHeight;
        $('html, body').stop().animate({scrollTop : contentDistence3});
    });
    productTab4.click(function(x){
        x.preventDefault();
        contentDistence4 = $('#product-deliveryInfo').offset().top - tabHeight - headerHeight;
        $('html, body').stop().animate({scrollTop : contentDistence4});
    });
    productTab5.click(function(x){
        x.preventDefault();
        contentDistence5 = $('#product-refundInfo').offset().top - tabHeight - headerHeight;
        $('html, body').stop().animate({scrollTop : contentDistence5});
    });

    /* 스크롤 위치에 따른 메뉴 현위치 표시 */
    $(window).scroll(function(){

        var offset1 = $('#product-detail').offset().top - tabHeight - headerHeight,
            offset2 = $('#product-review').offset().top - tabHeight - headerHeight;
            offset3 = $('#product-inquiry').offset().top - tabHeight - headerHeight;
            offset4 = $('#product-deliveryInfo').offset().top - tabHeight - headerHeight;
            offset5 = $('#product-refundInfo').offset().top - tabHeight - headerHeight;

        if($(document).scrollTop() >= offset1){
            $('.product-tab li:nth-child(1)').addClass('on').siblings().removeClass('on')
        }
        if($(document).scrollTop() >= offset2){
            $('.product-tab li:nth-child(2)').addClass('on').siblings().removeClass('on')
        }
        if($(document).scrollTop() >= offset3){
            $('.product-tab li:nth-child(3)').addClass('on').siblings().removeClass('on')
        }
        if($(document).scrollTop() >= offset4){
            $('.product-tab li:nth-child(4)').addClass('on').siblings().removeClass('on')
        }
        if($(document).scrollTop() >= offset5){
            $('.product-tab li:nth-child(5)').addClass('on').siblings().removeClass('on')
        }
    });




    /* input type:number maxLength 적용 */
    function maxLengthCheck(object){
        if (object.value.length > object.maxLength){
            object.value = object.value.slice(0, object.maxLength);
        }
    }

    /*** 이벤트/기획전 ***/
    $('.menu-full>li').click(function(){
        $(this).addClass('on');
        $(this).siblings().removeClass('on');

                var $Idx = $(this).index();

        $('.event-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    });

    $('.menu-button>li').click(function(){
        $(this).addClass('on');
        $(this).siblings().removeClass('on');

        var $Idx = $(this).index();

        $('.button-tab-content>li').eq($Idx).addClass('on').siblings().removeClass('on');
    });

    /*** 상품 카테고리 대분류/중분류 목록페이지 ***/
    new Swiper('.swiper-itemCategory', {
        slidesPerView: 1,
        spaceBetween: 10,
        pagination: {
            el: '.itemCategory-pagination',
            clickable: true,
        },
        breakpoints: {
            992: {
                slidesPerView: 2,
                spaceBetween: 35,
            },
        },
    });
    //상품 카테고리 옵션 접기 & 펼침
    $('.filter-toggle').click(function() {
        $(this).toggleClass('on');

        if ($(this).children('.filter-text').text() == '접기') {
            $(this).children('.filter-text').text('필터')
        } else {
            $(this).children('.filter-text').text('접기')
        }

        $('.cate-table2>li:not(:first-child)').toggleClass('active')
        $('.cate-table2>li:first-child').toggleClass('on')

    });
    //상품 보기 정렬
    $('.itemSort').click(function() {
        $(this).addClass('on');
        $(this).siblings().removeClass('on');
    });

    /*** 마이쇼핑정보 ***/
    // 기간조회
    // document.querySelector('#date1').value = new Date().toISOString().substring(0, 10);
    // document.querySelector('#date2').value = new Date().toISOString().substring(0, 10);



</script>
<script>

    //3자리마다 컴마 찍힌 값으로 return
    function comma(strOri){
        var minus = String(strOri).substring(0,1);

        var str=(strOri+'').replace(/[^0-9.]/gi,'');
        str=Number(str)+'';
        str = str.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
        //음수
        if(minus == '-')str = '-'+str;

        return str;
    }

</script>
<script>
    //ajax 로딩 화면 및 alert
    $(document).ajaxStart(function(event, xhr, settings){
        //로딩창
        $(document.body).css('cursor','wait');
    }).ajaxSend(function(event, jqXHR, ajaxOptions ){

    }).ajaxError(function(event, xhr, settings,data){
        try{
            if(xhr.responseJSON != null && xhr.responseJSON.message!=null){
                alert(xhr.responseJSON.message);
            }else{
                if(xhr.statusText != 'abort'){
                    alert('에러 발생');
                }
            }
        }catch(e){
            console.log(e);
        }
    }).ajaxSuccess(function(event, xhr, settings, thrownError){
        if(xhr.responseJSON != null){
            if(xhr.responseJSON.message!=null){
                alert(xhr.responseJSON.message);
            }

            if(xhr.responseJSON.location!=null){
                if(xhr.responseJSON.popup){
                    window.open(xhr.responseJSON.location, '', 'width=500, height=500');
                }else{
                    location.href = xhr.responseJSON.location;
                }
            }
        }
    }).ajaxStop(function(event, xhr, settings, thrownError){
        //로딩 끝
        $(document.body).css('cursor','');
    });

</script>
<script>
    /**카카오 간편로그인 팝업 js*/
    function popKakaoLogin(){
        window.open('/customer/auth/kakao/request', 'kakaoLogin', 'width=400, height=600, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
    }

    /**네이버 간편로그인 팝업 js*/
    function popNaverLogin() {
        window.open('/customer/auth/naver/request', 'naverLogin', 'width=400, height=600, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
    }
</script>